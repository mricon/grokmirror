.\" Man page generated from reStructuredText.
.
.TH GROK-PULL 1 "2020-08-14" "2.0.0" ""
.SH NAME
GROK-PULL \- Clone or update local git repositories
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.SH SYNOPSIS
.INDENT 0.0
.INDENT 3.5
grok\-pull \-c /path/to/grokmirror.conf
.UNINDENT
.UNINDENT
.SH DESCRIPTION
.sp
Grok\-pull is the main tool for replicating repository updates from the
grokmirror primary server to the mirrors.
.sp
Grok\-pull has two modes of operation \-\- onetime and continuous
(daemonized). In one\-time operation mode, it downloads the latest
manifest and applies any outstanding updates. If there are new
repositories or changes in the existing repositories, grok\-pull will
perform the necessary git commands to clone or fetch the required data
from the master. Once all updates are applied, it will write its own
manifest and exit. In this mode, grok\-pull can be run manually or from
cron.
.sp
In continuous operation mode (when run with \-o), grok\-pull will continue
running after all updates have been applied and will periodically
re\-download the manifest from the server to check for new updates. For
this to work, you must set pull.refresh in grokmirror.conf to the amount
of seconds you would like it to wait between refreshes.
.sp
If pull.socket is specified, grok\-pull will also listen on a socket for
any push updates (relative repository path as present in the manifest
file, terminated with newlines). This can be used for pubsub
subscriptions (see contrib).
.SH OPTIONS
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.TP
.B \-\-version
show program\(aqs version number and exit
.TP
.B \-h\fP,\fB  \-\-help
show this help message and exit
.TP
.B \-v\fP,\fB  \-\-verbose
Be verbose and tell us what you are doing
.TP
.B \-n\fP,\fB  \-\-no\-mtime\-check
Run without checking manifest mtime.
.TP
.B \-o\fP,\fB  \-\-continuous
Run continuously (no effect if refresh is not set)
.TP
.BI \-c \ CONFIG\fP,\fB \ \-\-config\fB= CONFIG
Location of the configuration file
.TP
.B \-p\fP,\fB  \-\-purge
Remove any git trees that are no longer in manifest.
.TP
.B \-\-force\-purge
Force purge operation despite significant repo deletions
.UNINDENT
.UNINDENT
.UNINDENT
.SH EXAMPLES
.sp
Use grokmirror.conf and modify it to reflect your needs. The example
configuration file is heavily commented. To invoke, run:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
grok\-pull \-v \-c /path/to/grokmirror.conf
.ft P
.fi
.UNINDENT
.UNINDENT
.SH SEE ALSO
.INDENT 0.0
.IP \(bu 2
grok\-manifest(1)
.IP \(bu 2
grok\-fsck(1)
.IP \(bu 2
git(1)
.UNINDENT
.SH SUPPORT
.sp
Please email \fI\%tools@linux.kernel.org\fP\&.
.SH AUTHOR
mricon@kernel.org

License: GPLv3+
.SH COPYRIGHT
The Linux Foundation and contributors
.\" Generated by docutils manpage writer.
.
